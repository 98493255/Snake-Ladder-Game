<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body class="flex items-center justify-center flex-col min-h-[100vh]">
    <div
      class="container grid grid-cols-10 grid-rows-10 bg-red-400 h-[60vh] w-1/3"
    ></div>
    <div
      class="bg-zinc-200 flex items-center justify-center flex-col mt-5 px-6 py-5 rounded-lg"
    >
      <p class="playerDisplay"></p>
      <div class="dice">1</div>
      <button class="bg-blue-500 px-2 py-2 border-none text-white rounded-md">
        ClickMe
      </button>
    </div>
    <div class="flex w-1/3 justify-between items-center mt-5">
      <div
        class="bg-zinc-200 flex items-center justify-center flex-col mt-5 px-6 py-5 rounded-lg"
      >
        <p class="playerDisplay"></p>
        <div class="dice">1</div>
        <button class="bg-blue-500 px-2 py-2 border-none text-white rounded-md">
          ClickMe
        </button>
      </div>
      <div class="flex items-center justify-center gap-4">
        <input
          type="number"
          min="2"
          max="5"
          class="mt-6 px-2 py-1 bg-rose-400 rounded-lg h-[5vh]"
        />
        <button
          class="createPlayers px-3 py-2 mt-6 bg-blue-500 rounded-lg text-white"
        >
          Create the Players
        </button>
        <div class="players"></div>
        <div class="playerScore"></div>
      </div>
    </div>

    <script>
     let player1, player2;
    let container = document.querySelector(".container");

    for (let i = 100; i > 0; i--) {

      if (i % 10 == 0 && i / 10 % 2 != 0) {
        let m = i;
        for (let j = m - 9; j <= m; j++) {

          let div = document.createElement("div");
          div.textContent = j;
          div.style.border = "1px solid black";
          div.style.display = "flex";
          div.style.justifyContent = "center";
          div.style.alignItems = "center";
          container.appendChild(div);

        }
        i = i - 9;
      }
      else {

        let div = document.createElement("div");
        div.textContent = i;
        div.style.border = "1px solid black";
        div.style.display = "flex";
        div.style.justifyContent = "center";
        div.style.alignItems = "center";
        container.appendChild(div);
      }
    }
    let DiceElem = document.querySelector(".dice");
    let clickMe = document.querySelector("button");
    let para = document.getElementById("playerDisplay");
    let currentPlayer = "red";
    let play = "p2";
    let cur_val = 0;
    let val_b = 0;
    let val_r = 0;
    let target_b = 0;
    let target_r = 0;
    document.querySelector("button").addEventListener("click", () => {
      let min = 1;
      let max = 6;

      let dice_val = Math.floor(Math.random() * (max - min + 1)) + min;
      DiceElem.textContent = dice_val;
      if (currentPlayer === "red") {
        clickMe.style.backgroundColor = "blue";
        para.textContent = "Blue Players Turn";
        currentPlayer = "blue";
        play = "p1";
      } else {
        clickMe.style.backgroundColor = "red";
        para.textContent = "Red Players Turn";
        currentPlayer = "red";
        play = "p2";
      }




      Array.from(container.children).forEach((div) => {
        if (div.style.backgroundColor === "blue" && play == "p2") { div.textContent = val_b; div.style.backgroundColor = "#F87171"; }
        if (div.style.backgroundColor === "red" && play == "p1") { div.textContent = val_r; div.style.backgroundColor = "#F87171"; }

      });

      let dice_VALUE = parseInt(dice_val.toString());

      if (play == "p1") {
        target_r += dice_VALUE;
        target = target_r;
      }
      else {
        target_b += dice_VALUE;
        target = target_b;
      }


      // Highlight div with text content matching dice value
      Array.from(container.children).forEach((div) => {
        let div_val = parseInt(div.textContent.trim());



        console.log(target);
        console.log(target_b);
        console.log(target_r);

        if (div_val == target) {
          if (play == "p1") {
            div.style.backgroundColor = "red";
            val_r = div_val;
          }
          else {
            div.style.backgroundColor = "blue";
            val_b = div_val;
          }

          div.textContent = play;

        }
      });
    });


    //   let players = document.querySelector(".players");
    //   let playerScore = document.querySelector(".playerScore");

    //   document.querySelector(".createPlayers").addEventListener("click", () => {
    //     let input = document.querySelector("input").value;
    //     console.log(input);
    //     players.innerHTML = "";
    //     playerScore.innerHTML = "";

    //     for (let i = 0; i < input; i++) {
    //       let div = document.createElement("div");
    //       div.textContent = `P ${i + 1}`;
    //       div.style.padding = "1vw";
    //       div.style.display = "flex";
    //       div.style.justifyContent = "center";
    //       div.style.alignItems = "center";
    //       div.style.borderRadius = "50%";
    //       div.style.marginBottom = "5px";
    //       div.style.backgroundColor = "blue";
    //       div.style.color = "white";
    //       players.appendChild(div);

    //       let scoreDiv = document.createElement("div");
    //       scoreDiv.style.padding = "1vw";
    //       scoreDiv.style.display = "flex";
    //       scoreDiv.style.justifyContent = "center";
    //       scoreDiv.style.alignItems = "center";
    //       scoreDiv.style.borderRadius = "50%";
    //       scoreDiv.style.marginBottom = "5px";
    //       scoreDiv.style.color = "white";
    //       scoreDiv.style.backgroundColor = "red";
    //       playerScore.appendChild(scoreDiv);
    //     }
    //   });
    </script>
  </body>
</html>
